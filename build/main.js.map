{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["/*\n * Created with @iobroker/create-adapter v1.16.0\n */\n\n// The adapter-core module gives you access to the core ioBroker functions\n// you need to create an adapter\nimport * as utils from '@iobroker/adapter-core'\n\nimport {\n    Device,\n    Group,\n    ComfortCloudClient,\n    Parameters,\n    TokenExpiredError,\n    ServiceError,\n    DataMode,\n} from 'panasonic-comfort-cloud-client'\n\nimport axios from 'axios'\nimport { deviceStates, readonlyStateNames, getHistoryStates } from './lib/state-definitions'\n\nconst REFRESH_INTERVAL_IN_MINUTES_DEFAULT = 5\n\nclass PanasonicComfortCloud extends utils.Adapter {\n\n    private comfortCloudClient: ComfortCloudClient = new ComfortCloudClient()\n\n    private refreshTimeout: NodeJS.Timeout | undefined\n    private refreshHistoryTimeout: NodeJS.Timeout | undefined\n    private refreshIntervalInMinutes = REFRESH_INTERVAL_IN_MINUTES_DEFAULT\n    private readonly historyRefreshIntervalInMinutes = 60\n    public constructor(options: Partial<utils.AdapterOptions> = {}) {\n        super({\n            ...options,\n            name: 'panasonic-comfort-cloud',\n        })\n\n        this.on('ready', this.onReady.bind(this))\n        this.on('objectChange', this.onObjectChange.bind(this))\n        this.on('stateChange', this.onStateChange.bind(this))\n        // this.on('message', this.onMessage.bind(this));\n        this.on('unload', this.onUnload.bind(this))\n    }\n\n    /**\n     * Is called when databases are connected and adapter received configuration.\n     */\n    private async onReady(): Promise<void> {\n        this.refreshIntervalInMinutes = this.config?.refreshInterval ?? REFRESH_INTERVAL_IN_MINUTES_DEFAULT\n        this.subscribeStates('*')\n\n        await this.setStateAsync('info.connection', false, true);\n\n        const loadedAppVersion = await this.getCurrentAppVersion()\n        this.log.info(`Loaded app version from App store: ${loadedAppVersion}`)\n        if(loadedAppVersion && this.trimAll(this.config?.appVersionFromAppStore) != this.trimAll(loadedAppVersion)) {\n            this.updateConfig({ appVersionFromAppStore: this.trimAll(loadedAppVersion), password: this.encrypt(this.config?.password) }) \n            return\n        }\n\n        if(!this.config?.username || !this.config?.password) {\n            this.log.error('Can not start without username or password. Please open config.')\n        } else {\n            if(this.config?.appVersionFromAppStore != '' && this.config?.useAppVersionFromAppStore)\n            {\n                this.log.debug(`Use AppVersion from App Store ${this.config?.appVersionFromAppStore}.`)\n                this.comfortCloudClient = new ComfortCloudClient(this.config?.appVersionFromAppStore)\n            }\n            else if(this.config?.appVersion != '')\n            {\n                this.log.debug(`Use configured AppVersion ${this.config?.appVersion}.`)\n                this.comfortCloudClient = new ComfortCloudClient(this.config?.appVersion)\n            }\n            else\n            {\n                this.log.debug(`Use default AppVersion.`)\n                this.comfortCloudClient = new ComfortCloudClient()\n            }\n\n            try {\n                this.log.debug(`Try to login with username ${this.config.username}.`)\n                await this.comfortCloudClient.login(\n                    this.config.username,\n                    this.config.password\n                )\n                this.log.info('Login successful.')\n                await this.setStateAsync('info.connection', true, true)\n                this.log.debug('Create devices.')\n                const groups = await this.comfortCloudClient.getGroups()\n                await this.createDevices(groups)\n\n                this.log.debug(`Automativ refresh is set to ${this.config?.automaticRefreshEnabled}.`)\n                if(this.config?.automaticRefreshEnabled) {\n                    this.setupRefreshTimeout()\n                }\n\n                if (this.config?.historyEnabled) {\n                    this.log.debug(`History enabled. Refreshing history.`)\n                    await this.refreshHistory(groups)\n                    this.setupHistoryRefreshTimeout()\n                }\n\n            } catch (error) {\n                await this.handleClientError(error)\n            }\n        }\n    }\n\n    private async refreshHistory(groups: Group[]): Promise<void> {\n        const devicesFromService = groups.flatMap(g => g.devices)\n        const deviceInfos = devicesFromService.map(d => { return {guid: d.guid, name: d.name}})\n\n        for (const deviceInfo of deviceInfos) {\n            const modes: Record<string, DataMode> = { \n                'day': DataMode.Day,\n                'month': DataMode.Month\n            };\n\n            for (const [modeName, dataMode] of Object.entries(modes)) {\n                try {\n                    this.log.debug(`Fetching ${modeName} history for ${deviceInfo.name}`);\n                    const history = await this.comfortCloudClient.getDeviceHistoryData(deviceInfo.guid, new Date(), dataMode);\n                    \n                    if (history && history.historyDataList) {\n                        for (let i = 0; i < history.historyDataList.length; i++) {\n                            const data = history.historyDataList[i];\n                            const index = i.toString().padStart(2, '0');\n                            const prefix = `${deviceInfo.name}.history.${modeName}.${index}`;\n                            \n                            await this.setStateChangedAsync(`${prefix}.dataTime`, this.formatHistoryDate(data.dataTime), true);\n                            await this.setStateChangedAsync(`${prefix}.averageSettingTemp`, data.averageSettingTemp, true);\n                            await this.setStateChangedAsync(`${prefix}.averageInsideTemp`, data.averageInsideTemp, true);\n                            await this.setStateChangedAsync(`${prefix}.averageOutsideTemp`, data.averageOutsideTemp, true);\n                            await this.setStateChangedAsync(`${prefix}.consumption`, data.consumption, true);\n                            await this.setStateChangedAsync(`${prefix}.cost`, data.cost, true);\n                            await this.setStateChangedAsync(`${prefix}.heatConsumptionRate`, data.heatConsumptionRate, true);\n                            await this.setStateChangedAsync(`${prefix}.coolConsumptionRate`, data.coolConsumptionRate, true);\n                        }\n                    }\n                } catch(e) {\n                    this.log.warn(`Failed to fetch history ${modeName} for ${deviceInfo.name}: ${e}`);\n                }\n            }\n        }\n    }\n\n    private formatHistoryDate(dataTime: string): string {\n        // Format YYYYMMDDHH to YYYY-MM-DD HH:mm:ss\n        // or YYYYMMDD to YYYY-MM-DD\n        if (dataTime.length === 10) {\n            // YYYYMMDDHH\n            const year = dataTime.substring(0, 4);\n            const month = dataTime.substring(4, 6);\n            const day = dataTime.substring(6, 8);\n            const hour = dataTime.substring(8, 10);\n            return `${year}-${month}-${day} ${hour}:00:00`;\n        } else if (dataTime.length === 8) {\n            // YYYYMMDD\n            const year = dataTime.substring(0, 4);\n            const month = dataTime.substring(4, 6);\n            const day = dataTime.substring(6, 8);\n            return `${year}-${month}-${day}`;\n        }\n        return dataTime;\n    }\n\n    private async refreshDeviceStates(device: Device): Promise<void> {\n        this.log.debug(`Refresh device ${device.name} (${device.guid}).`)\n        this.log.debug(`${device.name}: guid => ${device.guid}.`)\n        \n        for (const stateDef of deviceStates) {\n            if (stateDef.id === 'guid') continue; // guid is special, not a state on the device object in the same way\n\n            const value = (device as any)[stateDef.id];\n            this.log.debug(`${device.name}: ${stateDef.id} => ${value}.`)\n            \n            if (value !== undefined) {\n                await this.setStateChangedAsync(\n                    `${device.name}.${stateDef.id}`,\n                    value,\n                    true\n                )\n            } else if (stateDef.id === 'connected') {\n                // Connected is always true when we reached this point\n                await this.setStateChangedAsync(\n                    `${device.name}.connected`,\n                    true,\n                    true\n                )\n            }\n        }\n        this.log.debug(`Refresh device ${device.name} finished.`)\n    }\n\n    private async refreshDevice(guid: string, deviceName: string): Promise<void> {\n        try {\n            const device = await this.comfortCloudClient.getDevice(guid, deviceName)\n            if (!device) {\n                return\n            }\n            if (!device.name) {\n                device.name = deviceName\n            }\n            await this.refreshDeviceStates(device)\n        } catch (error) {\n            await this.handleDeviceError(deviceName, error)\n        }\n    }\n\n    private async refreshDevices(): Promise<void> {\n        try {\n            this.log.debug('Refresh all devices.')\n            const groups = await this.comfortCloudClient.getGroups()\n            await this.setStateAsync('info.connection', true, true);\n            const devices = groups.flatMap(g => g.devices)\n            const deviceInfos = devices.map(d => { return{guid: d.guid, name: d.name}})\n            await Promise.all(deviceInfos.map(async (deviceInfo) => {\n                try {\n                    const device = await this.comfortCloudClient.getDevice(deviceInfo.guid, deviceInfo.name)\n                    if(device != null) {\n                        device.name = deviceInfo.name\n                        device.guid = deviceInfo.guid\n                        await this.refreshDeviceStates(device)\n                    }\n                } catch (error) {\n                    await this.handleDeviceError(deviceInfo.name, error)\n                }\n            }))\n        } catch (error) {\n            await this.handleClientError(error)\n        }\n    }\n\n    private async createDevices(groups: Array<Group>): Promise<void> {\n        const devicesFromService = groups.flatMap(g => g.devices)\n        const deviceInfos = devicesFromService.map(d => { return {guid: d.guid, name: d.name}})\n        await Promise.all(deviceInfos.map(async (deviceInfo) => {\n            this.log.debug(`Device info from group ${deviceInfo.guid}, ${deviceInfo.name}.`)\n            let device: Device | null = null\n            try {\n                device = await this.comfortCloudClient.getDevice(deviceInfo.guid, deviceInfo.name)\n            } catch(error) {\n                await this.handleDeviceError(deviceInfo.name, error)\n                return\n            }\n            \n            if(device != null) {\n                await this.setObjectNotExistsAsync(deviceInfo.name, {\n                    type: 'device',\n                    common: {\n                        name: deviceInfo.name\n                    },\n                    native: {}\n                });\n\n                for (const stateDef of deviceStates) {\n                    const common: ioBroker.StateCommon = {\n                        name: stateDef.id,\n                        role: stateDef.role,\n                        write: stateDef.write,\n                        type: stateDef.type as ioBroker.CommonType,\n                        read: stateDef.read !== undefined ? stateDef.read : true, // default read to true\n                        def: stateDef.id === 'guid' ? deviceInfo.guid : (stateDef.def !== undefined ? stateDef.def : (device as any)[stateDef.id]),\n                    };\n\n                    if (stateDef.states) {\n                        common.states = stateDef.states;\n                    }\n\n                    await this.setObjectNotExistsAsync(`${deviceInfo.name}.${stateDef.id}`, {\n                        type: 'state',\n                        common: common,\n                        native: {}\n                    });\n                }\n\n                this.log.info(`Device ${deviceInfo.name} created.`)\n\n                if (this.config?.historyEnabled) {\n                    await this.setObjectNotExistsAsync(`${deviceInfo.name}.history`, {\n                        type: 'channel',\n                        common: { name: 'History Data' },\n                        native: {}\n                    });\n\n                    const historyStates = getHistoryStates();\n                    for (const [id, def] of Object.entries(historyStates)) {\n                        await this.setObjectNotExistsAsync(`${deviceInfo.name}.${id}`, {\n                            type: 'state',\n                            common: def,\n                            native: {}\n                        });\n                    }\n                }\n            }\n        }));\n        this.log.debug('Device creation completed.')\n    }\n\n    private async updateDevice(\n        deviceName: string,\n        stateName: string,\n        state: ioBroker.State\n    ): Promise<void> {\n        if(readonlyStateNames.includes(stateName)) {\n            return\n        }\n        if (!state.ack) {\n            const stateObj = await this.getObjectAsync(`${deviceName}.${stateName}`)\n            const stateCommon = stateObj?.common as ioBroker.StateCommon\n            if(stateCommon?.write == false) {\n                return\n            }\n\n            const guidState = await this.getStateAsync(`${deviceName}.guid`)\n            \n            this.log.debug(\n                `Update device guid=${guidState?.val} state=${stateName}`\n            )\n            const parameters: Parameters = {}\n            parameters[stateName] = state.val\n            if (!guidState?.val) {\n                return\n            }\n            try {\n                this.log.debug(`Set device parameter ${JSON.stringify(parameters)} for device ${guidState?.val}`)\n                await this.comfortCloudClient.setParameters(\n                    guidState?.val as string,\n                    parameters\n                )\n                this.log.debug(`Refresh device ${deviceName}`)\n                await this.refreshDevice(guidState?.val as string, deviceName)\n            } catch (error) {\n                await this.handleClientError(error)\n            }\n        }\n    }\n\n    /**\n     * Is called when adapter shuts down - callback has to be called under any circumstances!\n     */\n    private onUnload(callback: () => void): void {\n        try {\n            if(this.refreshTimeout)\n                clearTimeout(this.refreshTimeout)\n            if(this.refreshHistoryTimeout)\n                clearTimeout(this.refreshHistoryTimeout)\n\n            this.log.info('cleaned everything up...')\n            callback()\n        } catch (e) {\n            callback()\n        }\n    }\n\n    /**\n     * Is called if a subscribed object changes\n     */\n    private onObjectChange(\n        id: string,\n        obj: ioBroker.Object | null | undefined\n    ): void {\n        if (obj) {\n            // The object was changed\n            this.log.info(`object ${id} changed: ${JSON.stringify(obj)}`)\n        } else {\n            // The object was deleted\n            this.log.info(`object ${id} deleted`)\n        }\n    }\n\n    /**\n     * Is called if a subscribed state changes\n     */\n    private async onStateChange(\n        id: string,\n        state: ioBroker.State | null | undefined\n    ): Promise<void> {\n        if(!state || state.ack) {\n            return\n        }\n\n        if(id.includes('.commands.')) {\n            const elements = id.split('.')\n            const stateName = elements[elements.length - 1]\n            if(stateName == 'manualRefresh' && state.val) {\n                try {\n                    await this.refreshDevices()\n                    await this.setStateAsync(id, state, true)\n                } catch (error) {\n                    await this.handleClientError(error)\n                }\n                await this.setStateAsync(id, false, true)\n            } else if(stateName == 'refreshHistory' && state.val) {\n                try {\n                    const groups = await this.comfortCloudClient.getGroups()\n                    await this.refreshHistory(groups)\n                    await this.setStateAsync(id, state, true)\n                } catch (error) {\n                    await this.handleClientError(error)\n                }\n                await this.setStateAsync(id, false, true)\n            }\n        }\n        else if (!id.includes('.info.')) {\n            const elements = id.split('.')\n            const deviceName = elements[elements.length - 2]\n            const stateName = elements[elements.length - 1]\n            try {\n                await this.updateDevice(deviceName, stateName, state)    \n            } catch (error) {\n                await this.handleClientError(error)\n            }\n            \n            // The state was changed\n            this.log.info(\n                `state ${id} changed: ${state.val} (ack = ${state.ack})`\n            )\n        }\n    }\n\n    private async getCurrentAppVersion() : Promise<string> {\n        const response = await axios.get('https://itunes.apple.com/lookup?id=1348640525')\n        if(response.status !== 200)\n            return ''\n        const version = await response.data.results[0].version\n        return version\n    }\n\n    private async handleDeviceError(deviceName: string, error: unknown): Promise<void> {\n        this.log.debug(`Try to handle device error for ${deviceName}.`)\n\n        await this.setStateChangedAsync(\n            `${deviceName}.connected`,\n            false,\n            true\n        )\n        \n        if (error instanceof ServiceError) {\n            this.log.error(\n                `Service error when connecting to device ${deviceName}: ${error.message}. Code=${error.code}. Stack: ${error.stack}`\n            )\n        } else if (error instanceof Error){\n            this.log.error(`Unknown error when connecting to device ${deviceName}: ${error}. Stack: ${error.stack}`)\n        }\n    }\n\n    private async handleClientError(error: unknown): Promise<void> {\n        this.log.debug('Try to handle error.')\n        \n        if (error instanceof TokenExpiredError) {\n            this.log.info(\n                `Token of comfort cloud client expired. Trying to login again. Code=${error.code}. Stack: ${error.stack}`\n            )\n            await this.setStateAsync('info.connection', false, true);\n            await this.comfortCloudClient.login(\n                this.config.username,\n                this.config.password\n            )\n            await this.setStateAsync('info.connection', true, true);\n            this.log.info('Login successful.')\n        } else if (error instanceof ServiceError) {\n            await this.setStateAsync('info.connection', false, true);\n            this.log.error(\n                `Service error: ${error.message}. Code=${error.code}. Stack: ${error.stack}`\n            )\n        } else if (error instanceof Error){\n            this.log.error(`Unknown error: ${error}. Stack: ${error.stack}`)\n        }\n    }\n\n    private setupRefreshTimeout(): void {\n        this.log.debug('setupRefreshTimeout')\n        const refreshIntervalInMilliseconds = this.refreshIntervalInMinutes * 60 * 1000\n        this.log.debug(`refreshIntervalInMilliseconds=${refreshIntervalInMilliseconds}`)\n        this.refreshTimeout = setTimeout(this.refreshTimeoutFunc.bind(this), refreshIntervalInMilliseconds);\n    }\n\n    private async refreshTimeoutFunc(): Promise<void> {\n        this.log.debug(`refreshTimeoutFunc started.`)\n        try {\n            await this.refreshDevices()\n            this.setupRefreshTimeout()\n        } catch (error) {\n            await this.handleClientError(error)\n        }\n        \n    }\n\n    private setupHistoryRefreshTimeout(): void {\n        this.log.debug('setupHistoryRefreshTimeout')\n        const refreshIntervalInMilliseconds = this.historyRefreshIntervalInMinutes * 60 * 1000\n        this.refreshHistoryTimeout = setTimeout(this.refreshHistoryTimeoutFunc.bind(this), refreshIntervalInMilliseconds);\n    }\n\n    private async refreshHistoryTimeoutFunc(): Promise<void> {\n        this.log.debug(`refreshHistoryTimeoutFunc started.`)\n        try {\n            if (this.config?.historyEnabled) {\n                const groups = await this.comfortCloudClient.getGroups()\n                await this.refreshHistory(groups)\n            }\n            this.setupHistoryRefreshTimeout()\n        } catch (error) {\n            this.log.warn(`Failed to refresh history: ${error}`)\n            // Retry later even on error\n            this.setupHistoryRefreshTimeout() \n        }\n    }\n\n    private trimAll(text: string): string {\n        const newText = text.trim().replace(/(\\r\\n|\\n|\\r)/gm, '');\n        return newText\n    }\n}\n\nif (module.parent) {\n    // Export the constructor in compact mode\n    module.exports = (options: Partial<utils.AdapterOptions> | undefined) =>\n        new PanasonicComfortCloud(options)\n} else {\n    // otherwise start the instance directly\n    (() => new PanasonicComfortCloud())()\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAMA,YAAuB;AAEvB,4CAQO;AAEP,mBAAkB;AAClB,+BAAmE;AAEnE,MAAM,sCAAsC;AAE5C,MAAM,8BAA8B,MAAM,QAAQ;AAAA,EAQvC,YAAY,UAAyC,CAAC,GAAG;AAC5D,UAAM;AAAA,MACF,GAAG;AAAA,MACH,MAAM;AAAA,IACV,CAAC;AAVL,SAAQ,qBAAyC,IAAI,yDAAmB;AAIxE,SAAQ,2BAA2B;AACnC,SAAiB,kCAAkC;AAO/C,SAAK,GAAG,SAAS,KAAK,QAAQ,KAAK,IAAI,CAAC;AACxC,SAAK,GAAG,gBAAgB,KAAK,eAAe,KAAK,IAAI,CAAC;AACtD,SAAK,GAAG,eAAe,KAAK,cAAc,KAAK,IAAI,CAAC;AAEpD,SAAK,GAAG,UAAU,KAAK,SAAS,KAAK,IAAI,CAAC;AAAA,EAC9C;AAAA,EAKA,MAAc,UAAyB;AA/C3C;AAgDQ,SAAK,4BAA2B,gBAAK,WAAL,mBAAa,oBAAb,YAAgC;AAChE,SAAK,gBAAgB,GAAG;AAExB,UAAM,KAAK,cAAc,mBAAmB,OAAO,IAAI;AAEvD,UAAM,mBAAmB,MAAM,KAAK,qBAAqB;AACzD,SAAK,IAAI,KAAK,sCAAsC,kBAAkB;AACtE,QAAG,oBAAoB,KAAK,SAAQ,UAAK,WAAL,mBAAa,sBAAsB,KAAK,KAAK,QAAQ,gBAAgB,GAAG;AACxG,WAAK,aAAa,EAAE,wBAAwB,KAAK,QAAQ,gBAAgB,GAAG,UAAU,KAAK,SAAQ,UAAK,WAAL,mBAAa,QAAQ,EAAE,CAAC;AAC3H;AAAA,IACJ;AAEA,QAAG,GAAC,UAAK,WAAL,mBAAa,aAAY,GAAC,UAAK,WAAL,mBAAa,WAAU;AACjD,WAAK,IAAI,MAAM,iEAAiE;AAAA,IACpF,OAAO;AACH,YAAG,UAAK,WAAL,mBAAa,2BAA0B,QAAM,UAAK,WAAL,mBAAa,4BAC7D;AACI,aAAK,IAAI,MAAM,kCAAiC,UAAK,WAAL,mBAAa,yBAAyB;AACtF,aAAK,qBAAqB,IAAI,0DAAmB,UAAK,WAAL,mBAAa,sBAAsB;AAAA,MACxF,aACQ,UAAK,WAAL,mBAAa,eAAc,IACnC;AACI,aAAK,IAAI,MAAM,8BAA6B,UAAK,WAAL,mBAAa,aAAa;AACtE,aAAK,qBAAqB,IAAI,0DAAmB,UAAK,WAAL,mBAAa,UAAU;AAAA,MAC5E,OAEA;AACI,aAAK,IAAI,MAAM,yBAAyB;AACxC,aAAK,qBAAqB,IAAI,yDAAmB;AAAA,MACrD;AAEA,UAAI;AACA,aAAK,IAAI,MAAM,8BAA8B,KAAK,OAAO,WAAW;AACpE,cAAM,KAAK,mBAAmB;AAAA,UAC1B,KAAK,OAAO;AAAA,UACZ,KAAK,OAAO;AAAA,QAChB;AACA,aAAK,IAAI,KAAK,mBAAmB;AACjC,cAAM,KAAK,cAAc,mBAAmB,MAAM,IAAI;AACtD,aAAK,IAAI,MAAM,iBAAiB;AAChC,cAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU;AACvD,cAAM,KAAK,cAAc,MAAM;AAE/B,aAAK,IAAI,MAAM,gCAA+B,UAAK,WAAL,mBAAa,0BAA0B;AACrF,aAAG,UAAK,WAAL,mBAAa,yBAAyB;AACrC,eAAK,oBAAoB;AAAA,QAC7B;AAEA,aAAI,UAAK,WAAL,mBAAa,gBAAgB;AAC7B,eAAK,IAAI,MAAM,sCAAsC;AACrD,gBAAM,KAAK,eAAe,MAAM;AAChC,eAAK,2BAA2B;AAAA,QACpC;AAAA,MAEJ,SAAS,OAAP;AACE,cAAM,KAAK,kBAAkB,KAAK;AAAA,MACtC;AAAA,IACJ;AAAA,EACJ;AAAA,EAEA,MAAc,eAAe,QAAgC;AACzD,UAAM,qBAAqB,OAAO,QAAQ,OAAK,EAAE,OAAO;AACxD,UAAM,cAAc,mBAAmB,IAAI,OAAK;AAAE,aAAO,EAAC,MAAM,EAAE,MAAM,MAAM,EAAE,KAAI;AAAA,IAAC,CAAC;AAEtF,eAAW,cAAc,aAAa;AAClC,YAAM,QAAkC;AAAA,QACpC,OAAO,+CAAS;AAAA,QAChB,SAAS,+CAAS;AAAA,MACtB;AAEA,iBAAW,CAAC,UAAU,QAAQ,KAAK,OAAO,QAAQ,KAAK,GAAG;AACtD,YAAI;AACA,eAAK,IAAI,MAAM,YAAY,wBAAwB,WAAW,MAAM;AACpE,gBAAM,UAAU,MAAM,KAAK,mBAAmB,qBAAqB,WAAW,MAAM,IAAI,KAAK,GAAG,QAAQ;AAExG,cAAI,WAAW,QAAQ,iBAAiB;AACpC,qBAAS,IAAI,GAAG,IAAI,QAAQ,gBAAgB,QAAQ,KAAK;AACrD,oBAAM,OAAO,QAAQ,gBAAgB;AACrC,oBAAM,QAAQ,EAAE,SAAS,EAAE,SAAS,GAAG,GAAG;AAC1C,oBAAM,SAAS,GAAG,WAAW,gBAAgB,YAAY;AAEzD,oBAAM,KAAK,qBAAqB,GAAG,mBAAmB,KAAK,kBAAkB,KAAK,QAAQ,GAAG,IAAI;AACjG,oBAAM,KAAK,qBAAqB,GAAG,6BAA6B,KAAK,oBAAoB,IAAI;AAC7F,oBAAM,KAAK,qBAAqB,GAAG,4BAA4B,KAAK,mBAAmB,IAAI;AAC3F,oBAAM,KAAK,qBAAqB,GAAG,6BAA6B,KAAK,oBAAoB,IAAI;AAC7F,oBAAM,KAAK,qBAAqB,GAAG,sBAAsB,KAAK,aAAa,IAAI;AAC/E,oBAAM,KAAK,qBAAqB,GAAG,eAAe,KAAK,MAAM,IAAI;AACjE,oBAAM,KAAK,qBAAqB,GAAG,8BAA8B,KAAK,qBAAqB,IAAI;AAC/F,oBAAM,KAAK,qBAAqB,GAAG,8BAA8B,KAAK,qBAAqB,IAAI;AAAA,YACnG;AAAA,UACJ;AAAA,QACJ,SAAQ,GAAN;AACE,eAAK,IAAI,KAAK,2BAA2B,gBAAgB,WAAW,SAAS,GAAG;AAAA,QACpF;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AAAA,EAEQ,kBAAkB,UAA0B;AAGhD,QAAI,SAAS,WAAW,IAAI;AAExB,YAAM,OAAO,SAAS,UAAU,GAAG,CAAC;AACpC,YAAM,QAAQ,SAAS,UAAU,GAAG,CAAC;AACrC,YAAM,MAAM,SAAS,UAAU,GAAG,CAAC;AACnC,YAAM,OAAO,SAAS,UAAU,GAAG,EAAE;AACrC,aAAO,GAAG,QAAQ,SAAS,OAAO;AAAA,IACtC,WAAW,SAAS,WAAW,GAAG;AAE9B,YAAM,OAAO,SAAS,UAAU,GAAG,CAAC;AACpC,YAAM,QAAQ,SAAS,UAAU,GAAG,CAAC;AACrC,YAAM,MAAM,SAAS,UAAU,GAAG,CAAC;AACnC,aAAO,GAAG,QAAQ,SAAS;AAAA,IAC/B;AACA,WAAO;AAAA,EACX;AAAA,EAEA,MAAc,oBAAoB,QAA+B;AAC7D,SAAK,IAAI,MAAM,kBAAkB,OAAO,SAAS,OAAO,QAAQ;AAChE,SAAK,IAAI,MAAM,GAAG,OAAO,iBAAiB,OAAO,OAAO;AAExD,eAAW,YAAY,uCAAc;AACjC,UAAI,SAAS,OAAO;AAAQ;AAE5B,YAAM,QAAS,OAAe,SAAS;AACvC,WAAK,IAAI,MAAM,GAAG,OAAO,SAAS,SAAS,SAAS,QAAQ;AAE5D,UAAI,UAAU,QAAW;AACrB,cAAM,KAAK;AAAA,UACP,GAAG,OAAO,QAAQ,SAAS;AAAA,UAC3B;AAAA,UACA;AAAA,QACJ;AAAA,MACJ,WAAW,SAAS,OAAO,aAAa;AAEpC,cAAM,KAAK;AAAA,UACP,GAAG,OAAO;AAAA,UACV;AAAA,UACA;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AACA,SAAK,IAAI,MAAM,kBAAkB,OAAO,gBAAgB;AAAA,EAC5D;AAAA,EAEA,MAAc,cAAc,MAAc,YAAmC;AACzE,QAAI;AACA,YAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU,MAAM,UAAU;AACvE,UAAI,CAAC,QAAQ;AACT;AAAA,MACJ;AACA,UAAI,CAAC,OAAO,MAAM;AACd,eAAO,OAAO;AAAA,MAClB;AACA,YAAM,KAAK,oBAAoB,MAAM;AAAA,IACzC,SAAS,OAAP;AACE,YAAM,KAAK,kBAAkB,YAAY,KAAK;AAAA,IAClD;AAAA,EACJ;AAAA,EAEA,MAAc,iBAAgC;AAC1C,QAAI;AACA,WAAK,IAAI,MAAM,sBAAsB;AACrC,YAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU;AACvD,YAAM,KAAK,cAAc,mBAAmB,MAAM,IAAI;AACtD,YAAM,UAAU,OAAO,QAAQ,OAAK,EAAE,OAAO;AAC7C,YAAM,cAAc,QAAQ,IAAI,OAAK;AAAE,eAAM,EAAC,MAAM,EAAE,MAAM,MAAM,EAAE,KAAI;AAAA,MAAC,CAAC;AAC1E,YAAM,QAAQ,IAAI,YAAY,IAAI,OAAO,eAAe;AACpD,YAAI;AACA,gBAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU,WAAW,MAAM,WAAW,IAAI;AACvF,cAAG,UAAU,MAAM;AACf,mBAAO,OAAO,WAAW;AACzB,mBAAO,OAAO,WAAW;AACzB,kBAAM,KAAK,oBAAoB,MAAM;AAAA,UACzC;AAAA,QACJ,SAAS,OAAP;AACE,gBAAM,KAAK,kBAAkB,WAAW,MAAM,KAAK;AAAA,QACvD;AAAA,MACJ,CAAC,CAAC;AAAA,IACN,SAAS,OAAP;AACE,YAAM,KAAK,kBAAkB,KAAK;AAAA,IACtC;AAAA,EACJ;AAAA,EAEA,MAAc,cAAc,QAAqC;AAC7D,UAAM,qBAAqB,OAAO,QAAQ,OAAK,EAAE,OAAO;AACxD,UAAM,cAAc,mBAAmB,IAAI,OAAK;AAAE,aAAO,EAAC,MAAM,EAAE,MAAM,MAAM,EAAE,KAAI;AAAA,IAAC,CAAC;AACtF,UAAM,QAAQ,IAAI,YAAY,IAAI,OAAO,eAAe;AA5OhE;AA6OY,WAAK,IAAI,MAAM,0BAA0B,WAAW,SAAS,WAAW,OAAO;AAC/E,UAAI,SAAwB;AAC5B,UAAI;AACA,iBAAS,MAAM,KAAK,mBAAmB,UAAU,WAAW,MAAM,WAAW,IAAI;AAAA,MACrF,SAAQ,OAAN;AACE,cAAM,KAAK,kBAAkB,WAAW,MAAM,KAAK;AACnD;AAAA,MACJ;AAEA,UAAG,UAAU,MAAM;AACf,cAAM,KAAK,wBAAwB,WAAW,MAAM;AAAA,UAChD,MAAM;AAAA,UACN,QAAQ;AAAA,YACJ,MAAM,WAAW;AAAA,UACrB;AAAA,UACA,QAAQ,CAAC;AAAA,QACb,CAAC;AAED,mBAAW,YAAY,uCAAc;AACjC,gBAAM,SAA+B;AAAA,YACjC,MAAM,SAAS;AAAA,YACf,MAAM,SAAS;AAAA,YACf,OAAO,SAAS;AAAA,YAChB,MAAM,SAAS;AAAA,YACf,MAAM,SAAS,SAAS,SAAY,SAAS,OAAO;AAAA,YACpD,KAAK,SAAS,OAAO,SAAS,WAAW,OAAQ,SAAS,QAAQ,SAAY,SAAS,MAAO,OAAe,SAAS;AAAA,UAC1H;AAEA,cAAI,SAAS,QAAQ;AACjB,mBAAO,SAAS,SAAS;AAAA,UAC7B;AAEA,gBAAM,KAAK,wBAAwB,GAAG,WAAW,QAAQ,SAAS,MAAM;AAAA,YACpE,MAAM;AAAA,YACN;AAAA,YACA,QAAQ,CAAC;AAAA,UACb,CAAC;AAAA,QACL;AAEA,aAAK,IAAI,KAAK,UAAU,WAAW,eAAe;AAElD,aAAI,UAAK,WAAL,mBAAa,gBAAgB;AAC7B,gBAAM,KAAK,wBAAwB,GAAG,WAAW,gBAAgB;AAAA,YAC7D,MAAM;AAAA,YACN,QAAQ,EAAE,MAAM,eAAe;AAAA,YAC/B,QAAQ,CAAC;AAAA,UACb,CAAC;AAED,gBAAM,oBAAgB,2CAAiB;AACvC,qBAAW,CAAC,IAAI,GAAG,KAAK,OAAO,QAAQ,aAAa,GAAG;AACnD,kBAAM,KAAK,wBAAwB,GAAG,WAAW,QAAQ,MAAM;AAAA,cAC3D,MAAM;AAAA,cACN,QAAQ;AAAA,cACR,QAAQ,CAAC;AAAA,YACb,CAAC;AAAA,UACL;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ,CAAC,CAAC;AACF,SAAK,IAAI,MAAM,4BAA4B;AAAA,EAC/C;AAAA,EAEA,MAAc,aACV,YACA,WACA,OACa;AACb,QAAG,4CAAmB,SAAS,SAAS,GAAG;AACvC;AAAA,IACJ;AACA,QAAI,CAAC,MAAM,KAAK;AACZ,YAAM,WAAW,MAAM,KAAK,eAAe,GAAG,cAAc,WAAW;AACvE,YAAM,cAAc,qCAAU;AAC9B,WAAG,2CAAa,UAAS,OAAO;AAC5B;AAAA,MACJ;AAEA,YAAM,YAAY,MAAM,KAAK,cAAc,GAAG,iBAAiB;AAE/D,WAAK,IAAI;AAAA,QACL,sBAAsB,uCAAW,aAAa;AAAA,MAClD;AACA,YAAM,aAAyB,CAAC;AAChC,iBAAW,aAAa,MAAM;AAC9B,UAAI,EAAC,uCAAW,MAAK;AACjB;AAAA,MACJ;AACA,UAAI;AACA,aAAK,IAAI,MAAM,wBAAwB,KAAK,UAAU,UAAU,gBAAgB,uCAAW,KAAK;AAChG,cAAM,KAAK,mBAAmB;AAAA,UAC1B,uCAAW;AAAA,UACX;AAAA,QACJ;AACA,aAAK,IAAI,MAAM,kBAAkB,YAAY;AAC7C,cAAM,KAAK,cAAc,uCAAW,KAAe,UAAU;AAAA,MACjE,SAAS,OAAP;AACE,cAAM,KAAK,kBAAkB,KAAK;AAAA,MACtC;AAAA,IACJ;AAAA,EACJ;AAAA,EAKQ,SAAS,UAA4B;AACzC,QAAI;AACA,UAAG,KAAK;AACJ,qBAAa,KAAK,cAAc;AACpC,UAAG,KAAK;AACJ,qBAAa,KAAK,qBAAqB;AAE3C,WAAK,IAAI,KAAK,0BAA0B;AACxC,eAAS;AAAA,IACb,SAAS,GAAP;AACE,eAAS;AAAA,IACb;AAAA,EACJ;AAAA,EAKQ,eACJ,IACA,KACI;AACJ,QAAI,KAAK;AAEL,WAAK,IAAI,KAAK,UAAU,eAAe,KAAK,UAAU,GAAG,GAAG;AAAA,IAChE,OAAO;AAEH,WAAK,IAAI,KAAK,UAAU,YAAY;AAAA,IACxC;AAAA,EACJ;AAAA,EAKA,MAAc,cACV,IACA,OACa;AACb,QAAG,CAAC,SAAS,MAAM,KAAK;AACpB;AAAA,IACJ;AAEA,QAAG,GAAG,SAAS,YAAY,GAAG;AAC1B,YAAM,WAAW,GAAG,MAAM,GAAG;AAC7B,YAAM,YAAY,SAAS,SAAS,SAAS;AAC7C,UAAG,aAAa,mBAAmB,MAAM,KAAK;AAC1C,YAAI;AACA,gBAAM,KAAK,eAAe;AAC1B,gBAAM,KAAK,cAAc,IAAI,OAAO,IAAI;AAAA,QAC5C,SAAS,OAAP;AACE,gBAAM,KAAK,kBAAkB,KAAK;AAAA,QACtC;AACA,cAAM,KAAK,cAAc,IAAI,OAAO,IAAI;AAAA,MAC5C,WAAU,aAAa,oBAAoB,MAAM,KAAK;AAClD,YAAI;AACA,gBAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU;AACvD,gBAAM,KAAK,eAAe,MAAM;AAChC,gBAAM,KAAK,cAAc,IAAI,OAAO,IAAI;AAAA,QAC5C,SAAS,OAAP;AACE,gBAAM,KAAK,kBAAkB,KAAK;AAAA,QACtC;AACA,cAAM,KAAK,cAAc,IAAI,OAAO,IAAI;AAAA,MAC5C;AAAA,IACJ,WACS,CAAC,GAAG,SAAS,QAAQ,GAAG;AAC7B,YAAM,WAAW,GAAG,MAAM,GAAG;AAC7B,YAAM,aAAa,SAAS,SAAS,SAAS;AAC9C,YAAM,YAAY,SAAS,SAAS,SAAS;AAC7C,UAAI;AACA,cAAM,KAAK,aAAa,YAAY,WAAW,KAAK;AAAA,MACxD,SAAS,OAAP;AACE,cAAM,KAAK,kBAAkB,KAAK;AAAA,MACtC;AAGA,WAAK,IAAI;AAAA,QACL,SAAS,eAAe,MAAM,cAAc,MAAM;AAAA,MACtD;AAAA,IACJ;AAAA,EACJ;AAAA,EAEA,MAAc,uBAAyC;AACnD,UAAM,WAAW,MAAM,aAAAA,QAAM,IAAI,+CAA+C;AAChF,QAAG,SAAS,WAAW;AACnB,aAAO;AACX,UAAM,UAAU,MAAM,SAAS,KAAK,QAAQ,GAAG;AAC/C,WAAO;AAAA,EACX;AAAA,EAEA,MAAc,kBAAkB,YAAoB,OAA+B;AAC/E,SAAK,IAAI,MAAM,kCAAkC,aAAa;AAE9D,UAAM,KAAK;AAAA,MACP,GAAG;AAAA,MACH;AAAA,MACA;AAAA,IACJ;AAEA,QAAI,iBAAiB,oDAAc;AAC/B,WAAK,IAAI;AAAA,QACL,2CAA2C,eAAe,MAAM,iBAAiB,MAAM,gBAAgB,MAAM;AAAA,MACjH;AAAA,IACJ,WAAW,iBAAiB,OAAM;AAC9B,WAAK,IAAI,MAAM,2CAA2C,eAAe,iBAAiB,MAAM,OAAO;AAAA,IAC3G;AAAA,EACJ;AAAA,EAEA,MAAc,kBAAkB,OAA+B;AAC3D,SAAK,IAAI,MAAM,sBAAsB;AAErC,QAAI,iBAAiB,yDAAmB;AACpC,WAAK,IAAI;AAAA,QACL,sEAAsE,MAAM,gBAAgB,MAAM;AAAA,MACtG;AACA,YAAM,KAAK,cAAc,mBAAmB,OAAO,IAAI;AACvD,YAAM,KAAK,mBAAmB;AAAA,QAC1B,KAAK,OAAO;AAAA,QACZ,KAAK,OAAO;AAAA,MAChB;AACA,YAAM,KAAK,cAAc,mBAAmB,MAAM,IAAI;AACtD,WAAK,IAAI,KAAK,mBAAmB;AAAA,IACrC,WAAW,iBAAiB,oDAAc;AACtC,YAAM,KAAK,cAAc,mBAAmB,OAAO,IAAI;AACvD,WAAK,IAAI;AAAA,QACL,kBAAkB,MAAM,iBAAiB,MAAM,gBAAgB,MAAM;AAAA,MACzE;AAAA,IACJ,WAAW,iBAAiB,OAAM;AAC9B,WAAK,IAAI,MAAM,kBAAkB,iBAAiB,MAAM,OAAO;AAAA,IACnE;AAAA,EACJ;AAAA,EAEQ,sBAA4B;AAChC,SAAK,IAAI,MAAM,qBAAqB;AACpC,UAAM,gCAAgC,KAAK,2BAA2B,KAAK;AAC3E,SAAK,IAAI,MAAM,iCAAiC,+BAA+B;AAC/E,SAAK,iBAAiB,WAAW,KAAK,mBAAmB,KAAK,IAAI,GAAG,6BAA6B;AAAA,EACtG;AAAA,EAEA,MAAc,qBAAoC;AAC9C,SAAK,IAAI,MAAM,6BAA6B;AAC5C,QAAI;AACA,YAAM,KAAK,eAAe;AAC1B,WAAK,oBAAoB;AAAA,IAC7B,SAAS,OAAP;AACE,YAAM,KAAK,kBAAkB,KAAK;AAAA,IACtC;AAAA,EAEJ;AAAA,EAEQ,6BAAmC;AACvC,SAAK,IAAI,MAAM,4BAA4B;AAC3C,UAAM,gCAAgC,KAAK,kCAAkC,KAAK;AAClF,SAAK,wBAAwB,WAAW,KAAK,0BAA0B,KAAK,IAAI,GAAG,6BAA6B;AAAA,EACpH;AAAA,EAEA,MAAc,4BAA2C;AA/e7D;AAgfQ,SAAK,IAAI,MAAM,oCAAoC;AACnD,QAAI;AACA,WAAI,UAAK,WAAL,mBAAa,gBAAgB;AAC7B,cAAM,SAAS,MAAM,KAAK,mBAAmB,UAAU;AACvD,cAAM,KAAK,eAAe,MAAM;AAAA,MACpC;AACA,WAAK,2BAA2B;AAAA,IACpC,SAAS,OAAP;AACE,WAAK,IAAI,KAAK,8BAA8B,OAAO;AAEnD,WAAK,2BAA2B;AAAA,IACpC;AAAA,EACJ;AAAA,EAEQ,QAAQ,MAAsB;AAClC,UAAM,UAAU,KAAK,KAAK,EAAE,QAAQ,kBAAkB,EAAE;AACxD,WAAO;AAAA,EACX;AACJ;AAEA,IAAI,OAAO,QAAQ;AAEf,SAAO,UAAU,CAAC,YACd,IAAI,sBAAsB,OAAO;AACzC,OAAO;AAEH,GAAC,MAAM,IAAI,sBAAsB,GAAG;AACxC;",
  "names": ["axios"]
}
